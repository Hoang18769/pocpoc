"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(home)/layout",{

/***/ "(app-pages-browser)/./src/hooks/useNotificationSocket.js":
/*!********************************************!*\
  !*** ./src/hooks/useNotificationSocket.js ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useNotificationSocket; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/socket */ \"(app-pages-browser)/./src/utils/socket.js\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store/ZustandStore */ \"(app-pages-browser)/./src/store/ZustandStore.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ var _s = $RefreshSig$();\n\n\n\n\nfunction useNotificationSocket(userId) {\n    _s();\n    const subscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const isSubscribedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Store actions\n    const { fetchChatList, onMessageReceived, onChatCreated, fetchNotifications, onNotificationReceived } = (0,_store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!userId) return;\n        let isMounted = true;\n        const handleNotification = async (data)=>{\n            var _data_creator;\n            if (!(data === null || data === void 0 ? void 0 : data.action)) {\n                console.warn(\"⚠️ Notification kh\\xf4ng hợp lệ:\", data);\n                return;\n            }\n            const name = ((_data_creator = data.creator) === null || _data_creator === void 0 ? void 0 : _data_creator.givenName) || \"ai đ\\xf3\";\n            // === Toast & store updates by action ===\n            switch(data.action){\n                case \"SENT_ADD_FRIEND_REQUEST\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 gửi lời mời kết bạn \\uD83D\\uDC8C\"));\n                    break;\n                case \"BE_FRIEND\":\n                case \"ACCEPTED_FRIEND_REQUEST\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 trở th\\xe0nh bạn b\\xe8 \\uD83D\\uDC65\"));\n                    break;\n                case \"POST\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 đăng một b\\xe0i viết mới\"));\n                    break;\n                case \"SHARE\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 chia sẻ một b\\xe0i viết mới\"));\n                    break;\n                case \"LIKE_POST\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 th\\xedch b\\xe0i viết của bạn ❤️\"));\n                    break;\n                case \"COMMENT\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 b\\xecnh luận về b\\xe0i viết của bạn \\uD83D\\uDCAC\"));\n                    break;\n                case \"REPLY_COMMENT\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 trả lời b\\xecnh luận của bạn \\uD83D\\uDCAC\"));\n                    break;\n                case \"NEW_MESSAGE\":\n                    {\n                        (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 nhắn tin cho bạn \\uD83D\\uDCAC\"));\n                        try {\n                            if (!data.message || !data.message.senderUsername) break;\n                            const senderUsername = data.message.senderUsername;\n                            // Truy xuất chatList từ store\n                            const { chatList } = _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState();\n                            const foundChat = chatList.find((chat)=>{\n                                var _chat_target;\n                                return ((_chat_target = chat.target) === null || _chat_target === void 0 ? void 0 : _chat_target.username) === senderUsername;\n                            });\n                            if (foundChat) {\n                                const updatedChat = {\n                                    ...foundChat,\n                                    lastMessage: {\n                                        ...foundChat.lastMessage,\n                                        body: data.message.body\n                                    },\n                                    updatedAt: data.message.createdAt || new Date().toISOString(),\n                                    notReadMessageCount: (foundChat.notReadMessageCount || 0) + 1\n                                };\n                                // Tạo chatList mới: chat này đứng đầu, còn lại giữ nguyên nhưng sắp theo updatedAt\n                                const newChatList = [\n                                    updatedChat,\n                                    ...chatList.filter((chat)=>chat.id !== foundChat.id).sort((a, b)=>new Date(a.updatedAt) - new Date(b.updatedAt))\n                                ];\n                                _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setState({\n                                    chatList: newChatList\n                                });\n                                console.log(\"\\uD83D\\uDCE5 Cập nhật chatList với NEW_MESSAGE từ\", senderUsername);\n                            } else {\n                                console.log(\"\\uD83D\\uDD0D Kh\\xf4ng t\\xecm thấy chat với\", senderUsername, \"- giữ nguy\\xean danh s\\xe1ch.\");\n                            }\n                            // Optionally gọi lại onMessageReceived để cập nhật nếu bạn vẫn muốn\n                            _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().onMessageReceived(data.message);\n                        } catch (err) {\n                            console.error(\"❌ Failed to process NEW_MESSAGE:\", err);\n                        }\n                        break;\n                    }\n                case \"NEW_CHAT_CREATED\":\n                    if (data.chat) {\n                        onChatCreated(data.chat);\n                        (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 tạo cuộc tr\\xf2 chuyện mới \\uD83D\\uDCAC\"));\n                    }\n                    break;\n                default:\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\\uD83D\\uDD14 C\\xf3 th\\xf4ng b\\xe1o mới từ \".concat(name));\n            }\n            // ✅ Đồng bộ thông báo vào store\n            if (onNotificationReceived && fetchNotifications) {\n                onNotificationReceived(data); // Tạm thời hiển thị ngay\n            // Sync lại từ server để đảm bảo không thiếu\n            // setTimeout(() => {\n            //   fetchNotifications(true);\n            // }, 300);\n            //  // delay nhẹ tránh spam call nếu nhận liên tục\n            }\n        };\n        // === Setup socket client với singleton ===\n        const setupConnection = async ()=>{\n            try {\n                console.log(\"\\uD83D\\uDD0C Connecting to notification socket for user:\", userId);\n                const client = await (0,_utils_socket__WEBPACK_IMPORTED_MODULE_1__.getStompClient)(()=>{\n                    if (!isMounted || isSubscribedRef.current) return;\n                    console.log(\"\\uD83D\\uDD0C Subscribing to /notifications/\" + userId);\n                    try {\n                        subscriptionRef.current = client.subscribeToChannel(\"/notifications/\".concat(userId), (message)=>{\n                            if (!isMounted) return;\n                            try {\n                                const data = JSON.parse(message.body);\n                                console.log(\"\\uD83D\\uDCE8 Notification received:\", data);\n                                handleNotification(data);\n                            } catch (err) {\n                                console.error(\"❌ Kh\\xf4ng thể parse message:\", err);\n                            }\n                        });\n                        if (subscriptionRef.current) {\n                            isSubscribedRef.current = true;\n                            console.log(\"✅ Successfully subscribed to notifications\");\n                        }\n                    } catch (err) {\n                        console.error(\"❌ Lỗi khi subscribe:\", err);\n                    }\n                });\n                // Nếu client đã connected và chưa subscribe\n                if ((client === null || client === void 0 ? void 0 : client.connected) && !isSubscribedRef.current) {\n                    console.log(\"\\uD83D\\uDD0C Client already connected, subscribing immediately\");\n                    try {\n                        subscriptionRef.current = client.subscribeToChannel(\"/notifications/\".concat(userId), (message)=>{\n                            if (!isMounted) return;\n                            try {\n                                const data = JSON.parse(message.body);\n                                console.log(\"\\uD83D\\uDCE8 Notification received:\", data);\n                                handleNotification(data);\n                            } catch (err) {\n                                console.error(\"❌ Kh\\xf4ng thể parse message:\", err);\n                            }\n                        });\n                        if (subscriptionRef.current) {\n                            isSubscribedRef.current = true;\n                            console.log(\"✅ Successfully subscribed to notifications\");\n                        }\n                    } catch (err) {\n                        console.error(\"❌ Lỗi khi subscribe:\", err);\n                    }\n                }\n            } catch (err) {\n                console.error(\"❌ Lỗi khi setup connection:\", err);\n            }\n        };\n        setupConnection();\n        return ()=>{\n            isMounted = false;\n            if (subscriptionRef.current) {\n                try {\n                    subscriptionRef.current.unsubscribe();\n                    console.log(\"\\uD83D\\uDCE4 Đ\\xe3 hủy đăng k\\xfd /notifications/\" + userId);\n                } catch (err) {\n                    console.warn(\"⚠️ Lỗi khi hủy đăng k\\xfd:\", err);\n                }\n                subscriptionRef.current = null;\n            }\n            isSubscribedRef.current = false;\n        };\n    }, [\n        userId,\n        fetchChatList,\n        onMessageReceived,\n        onChatCreated,\n        fetchNotifications,\n        onNotificationReceived\n    ]);\n}\n_s(useNotificationSocket, \"x9YOoR/S79EaGIe0oW6AGu6Cml0=\", false, function() {\n    return [\n        _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    ];\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VOb3RpZmljYXRpb25Tb2NrZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUMwQztBQUNNO0FBQ1o7QUFDVztBQUVoQyxTQUFTSyxzQkFBc0JDLE1BQU07O0lBQ2xELE1BQU1DLGtCQUFrQk4sNkNBQU1BLENBQUM7SUFDL0IsTUFBTU8sa0JBQWtCUCw2Q0FBTUEsQ0FBQztJQUUvQixnQkFBZ0I7SUFDaEIsTUFBTSxFQUNKUSxhQUFhLEVBQ2JDLGlCQUFpQixFQUNqQkMsYUFBYSxFQUNiQyxrQkFBa0IsRUFDbEJDLHNCQUFzQixFQUN2QixHQUFHVCwrREFBV0E7SUFFZkosZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUNNLFFBQVE7UUFDYixJQUFJUSxZQUFZO1FBRWhCLE1BQU1DLHFCQUFxQixPQUFPQztnQkFNbkJBO1lBTGIsSUFBSSxFQUFDQSxpQkFBQUEsMkJBQUFBLEtBQU1DLE1BQU0sR0FBRTtnQkFDakJDLFFBQVFDLElBQUksQ0FBQyxvQ0FBaUNIO2dCQUM5QztZQUNGO1lBRUEsTUFBTUksT0FBT0osRUFBQUEsZ0JBQUFBLEtBQUtLLE9BQU8sY0FBWkwsb0NBQUFBLGNBQWNNLFNBQVMsS0FBSTtZQUV4QywwQ0FBMEM7WUFDMUMsT0FBUU4sS0FBS0MsTUFBTTtnQkFDakIsS0FBSztvQkFDSGQsMkRBQUtBLENBQUMsR0FBUSxPQUFMaUIsTUFBSztvQkFDZDtnQkFFRixLQUFLO2dCQUNMLEtBQUs7b0JBQ0hqQiwyREFBS0EsQ0FBQyxHQUFRLE9BQUxpQixNQUFLO29CQUNkO2dCQUVGLEtBQUs7b0JBQ0hqQiwyREFBS0EsQ0FBQyxHQUFRLE9BQUxpQixNQUFLO29CQUNkO2dCQUVGLEtBQUs7b0JBQ0hqQiwyREFBS0EsQ0FBQyxHQUFRLE9BQUxpQixNQUFLO29CQUNkO2dCQUVGLEtBQUs7b0JBQ0hqQiwyREFBS0EsQ0FBQyxHQUFRLE9BQUxpQixNQUFLO29CQUNkO2dCQUVGLEtBQUs7b0JBQ0hqQiwyREFBS0EsQ0FBQyxHQUFRLE9BQUxpQixNQUFLO29CQUNkO2dCQUVGLEtBQUs7b0JBQ0hqQiwyREFBS0EsQ0FBQyxHQUFRLE9BQUxpQixNQUFLO29CQUNkO2dCQUVGLEtBQUs7b0JBQWU7d0JBQ2xCakIsMkRBQUtBLENBQUMsR0FBUSxPQUFMaUIsTUFBSzt3QkFDZCxJQUFJOzRCQUNGLElBQUksQ0FBQ0osS0FBS08sT0FBTyxJQUFJLENBQUNQLEtBQUtPLE9BQU8sQ0FBQ0MsY0FBYyxFQUFFOzRCQUVuRCxNQUFNQSxpQkFBaUJSLEtBQUtPLE9BQU8sQ0FBQ0MsY0FBYzs0QkFFbEQsOEJBQThCOzRCQUM5QixNQUFNLEVBQUVDLFFBQVEsRUFBRSxHQUFHckIsMkRBQVdBLENBQUNzQixRQUFROzRCQUV6QyxNQUFNQyxZQUFZRixTQUFTRyxJQUFJLENBQzdCLENBQUNDO29DQUFTQTt1Q0FBQUEsRUFBQUEsZUFBQUEsS0FBS0MsTUFBTSxjQUFYRCxtQ0FBQUEsYUFBYUUsUUFBUSxNQUFLUDs7NEJBR3RDLElBQUlHLFdBQVc7Z0NBQ2IsTUFBTUssY0FBYztvQ0FDbEIsR0FBR0wsU0FBUztvQ0FDWk0sYUFBYTt3Q0FDWCxHQUFHTixVQUFVTSxXQUFXO3dDQUN4QkMsTUFBTWxCLEtBQUtPLE9BQU8sQ0FBQ1csSUFBSTtvQ0FDekI7b0NBQ0FDLFdBQVduQixLQUFLTyxPQUFPLENBQUNhLFNBQVMsSUFBSSxJQUFJQyxPQUFPQyxXQUFXO29DQUMzREMscUJBQXFCLENBQUNaLFVBQVVZLG1CQUFtQixJQUFJLEtBQUs7Z0NBQzlEO2dDQUVBLG1GQUFtRjtnQ0FDbkYsTUFBTUMsY0FBYztvQ0FDbEJSO3VDQUNHUCxTQUNBZ0IsTUFBTSxDQUFDLENBQUNaLE9BQVNBLEtBQUthLEVBQUUsS0FBS2YsVUFBVWUsRUFBRSxFQUN6Q0MsSUFBSSxDQUNILENBQUNDLEdBQUdDLElBQU0sSUFBSVIsS0FBS08sRUFBRVQsU0FBUyxJQUFJLElBQUlFLEtBQUtRLEVBQUVWLFNBQVM7aUNBRTNEO2dDQUVEL0IsMkRBQVdBLENBQUMwQyxRQUFRLENBQUM7b0NBQUVyQixVQUFVZTtnQ0FBWTtnQ0FFN0N0QixRQUFRNkIsR0FBRyxDQUNULHFEQUNBdkI7NEJBRUosT0FBTztnQ0FDTE4sUUFBUTZCLEdBQUcsQ0FDVCw4Q0FDQXZCLGdCQUNBOzRCQUVKOzRCQUVBLG9FQUFvRTs0QkFDcEVwQiwyREFBV0EsQ0FBQ3NCLFFBQVEsR0FBR2hCLGlCQUFpQixDQUFDTSxLQUFLTyxPQUFPO3dCQUN2RCxFQUFFLE9BQU95QixLQUFLOzRCQUNaOUIsUUFBUStCLEtBQUssQ0FBQyxvQ0FBb0NEO3dCQUNwRDt3QkFFQTtvQkFDRjtnQkFFQSxLQUFLO29CQUNILElBQUloQyxLQUFLYSxJQUFJLEVBQUU7d0JBQ2JsQixjQUFjSyxLQUFLYSxJQUFJO3dCQUN2QjFCLDJEQUFLQSxDQUFDLEdBQVEsT0FBTGlCLE1BQUs7b0JBQ2hCO29CQUNBO2dCQUVGO29CQUNFakIsMkRBQUtBLENBQUMsNkNBQStCLE9BQUxpQjtZQUNwQztZQUVBLGdDQUFnQztZQUNoQyxJQUFJUCwwQkFBMEJELG9CQUFvQjtnQkFDaERDLHVCQUF1QkcsT0FBTyx5QkFBeUI7WUFFdkQsNENBQTRDO1lBQzVDLHFCQUFxQjtZQUNyQiw4QkFBOEI7WUFDOUIsV0FBVztZQUNYLGtEQUFrRDtZQUNwRDtRQUNGO1FBRUEsNENBQTRDO1FBQzVDLE1BQU1rQyxrQkFBa0I7WUFDdEIsSUFBSTtnQkFDRmhDLFFBQVE2QixHQUFHLENBQUMsNERBQWtEekM7Z0JBRTlELE1BQU02QyxTQUFTLE1BQU1qRCw2REFBY0EsQ0FBQztvQkFDbEMsSUFBSSxDQUFDWSxhQUFhTixnQkFBZ0I0QyxPQUFPLEVBQUU7b0JBRTNDbEMsUUFBUTZCLEdBQUcsQ0FBQyxnREFBc0N6QztvQkFDbEQsSUFBSTt3QkFDRkMsZ0JBQWdCNkMsT0FBTyxHQUFHRCxPQUFPRSxrQkFBa0IsQ0FDakQsa0JBQXlCLE9BQVAvQyxTQUNsQixDQUFDaUI7NEJBQ0MsSUFBSSxDQUFDVCxXQUFXOzRCQUNoQixJQUFJO2dDQUNGLE1BQU1FLE9BQU9zQyxLQUFLQyxLQUFLLENBQUNoQyxRQUFRVyxJQUFJO2dDQUNwQ2hCLFFBQVE2QixHQUFHLENBQUMsdUNBQTZCL0I7Z0NBQ3pDRCxtQkFBbUJDOzRCQUNyQixFQUFFLE9BQU9nQyxLQUFLO2dDQUNaOUIsUUFBUStCLEtBQUssQ0FBQyxpQ0FBOEJEOzRCQUM5Qzt3QkFDRjt3QkFHRixJQUFJekMsZ0JBQWdCNkMsT0FBTyxFQUFFOzRCQUMzQjVDLGdCQUFnQjRDLE9BQU8sR0FBRzs0QkFDMUJsQyxRQUFRNkIsR0FBRyxDQUFDO3dCQUNkO29CQUNGLEVBQUUsT0FBT0MsS0FBSzt3QkFDWjlCLFFBQVErQixLQUFLLENBQUMsd0JBQXdCRDtvQkFDeEM7Z0JBQ0Y7Z0JBRUEsNENBQTRDO2dCQUM1QyxJQUFJRyxDQUFBQSxtQkFBQUEsNkJBQUFBLE9BQVFLLFNBQVMsS0FBSSxDQUFDaEQsZ0JBQWdCNEMsT0FBTyxFQUFFO29CQUNqRGxDLFFBQVE2QixHQUFHLENBQUM7b0JBQ1osSUFBSTt3QkFDRnhDLGdCQUFnQjZDLE9BQU8sR0FBR0QsT0FBT0Usa0JBQWtCLENBQ2pELGtCQUF5QixPQUFQL0MsU0FDbEIsQ0FBQ2lCOzRCQUNDLElBQUksQ0FBQ1QsV0FBVzs0QkFDaEIsSUFBSTtnQ0FDRixNQUFNRSxPQUFPc0MsS0FBS0MsS0FBSyxDQUFDaEMsUUFBUVcsSUFBSTtnQ0FDcENoQixRQUFRNkIsR0FBRyxDQUFDLHVDQUE2Qi9CO2dDQUN6Q0QsbUJBQW1CQzs0QkFDckIsRUFBRSxPQUFPZ0MsS0FBSztnQ0FDWjlCLFFBQVErQixLQUFLLENBQUMsaUNBQThCRDs0QkFDOUM7d0JBQ0Y7d0JBR0YsSUFBSXpDLGdCQUFnQjZDLE9BQU8sRUFBRTs0QkFDM0I1QyxnQkFBZ0I0QyxPQUFPLEdBQUc7NEJBQzFCbEMsUUFBUTZCLEdBQUcsQ0FBQzt3QkFDZDtvQkFDRixFQUFFLE9BQU9DLEtBQUs7d0JBQ1o5QixRQUFRK0IsS0FBSyxDQUFDLHdCQUF3QkQ7b0JBQ3hDO2dCQUNGO1lBRUYsRUFBRSxPQUFPQSxLQUFLO2dCQUNaOUIsUUFBUStCLEtBQUssQ0FBQywrQkFBK0JEO1lBQy9DO1FBQ0Y7UUFFQUU7UUFFQSxPQUFPO1lBQ0xwQyxZQUFZO1lBRVosSUFBSVAsZ0JBQWdCNkMsT0FBTyxFQUFFO2dCQUMzQixJQUFJO29CQUNGN0MsZ0JBQWdCNkMsT0FBTyxDQUFDSyxXQUFXO29CQUNuQ3ZDLFFBQVE2QixHQUFHLENBQUMsc0RBQXNDekM7Z0JBQ3BELEVBQUUsT0FBTzBDLEtBQUs7b0JBQ1o5QixRQUFRQyxJQUFJLENBQUMsOEJBQTJCNkI7Z0JBQzFDO2dCQUNBekMsZ0JBQWdCNkMsT0FBTyxHQUFHO1lBQzVCO1lBRUE1QyxnQkFBZ0I0QyxPQUFPLEdBQUc7UUFDNUI7SUFDRixHQUFHO1FBQ0Q5QztRQUNBRztRQUNBQztRQUNBQztRQUNBQztRQUNBQztLQUNEO0FBQ0g7R0FuT3dCUjs7UUFXbEJELDJEQUFXQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvaG9va3MvdXNlTm90aWZpY2F0aW9uU29ja2V0LmpzP2U1OTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGdldFN0b21wQ2xpZW50IH0gZnJvbSBcIkAvdXRpbHMvc29ja2V0XCI7XHJcbmltcG9ydCB0b2FzdCBmcm9tIFwicmVhY3QtaG90LXRvYXN0XCI7XHJcbmltcG9ydCB1c2VBcHBTdG9yZSBmcm9tIFwiQC9zdG9yZS9adXN0YW5kU3RvcmVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZU5vdGlmaWNhdGlvblNvY2tldCh1c2VySWQpIHtcclxuICBjb25zdCBzdWJzY3JpcHRpb25SZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgaXNTdWJzY3JpYmVkUmVmID0gdXNlUmVmKGZhbHNlKTtcclxuXHJcbiAgLy8gU3RvcmUgYWN0aW9uc1xyXG4gIGNvbnN0IHtcclxuICAgIGZldGNoQ2hhdExpc3QsXHJcbiAgICBvbk1lc3NhZ2VSZWNlaXZlZCxcclxuICAgIG9uQ2hhdENyZWF0ZWQsXHJcbiAgICBmZXRjaE5vdGlmaWNhdGlvbnMsXHJcbiAgICBvbk5vdGlmaWNhdGlvblJlY2VpdmVkLFxyXG4gIH0gPSB1c2VBcHBTdG9yZSgpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCF1c2VySWQpIHJldHVybjtcclxuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZU5vdGlmaWNhdGlvbiA9IGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgICAgIGlmICghZGF0YT8uYWN0aW9uKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwi4pqg77iPIE5vdGlmaWNhdGlvbiBraMO0bmcgaOG7o3AgbOG7hzpcIiwgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBuYW1lID0gZGF0YS5jcmVhdG9yPy5naXZlbk5hbWUgfHwgXCJhaSDEkcOzXCI7XHJcblxyXG4gICAgICAvLyA9PT0gVG9hc3QgJiBzdG9yZSB1cGRhdGVzIGJ5IGFjdGlvbiA9PT1cclxuICAgICAgc3dpdGNoIChkYXRhLmFjdGlvbikge1xyXG4gICAgICAgIGNhc2UgXCJTRU5UX0FERF9GUklFTkRfUkVRVUVTVFwiOlxyXG4gICAgICAgICAgdG9hc3QoYCR7bmFtZX0gxJHDoyBn4butaSBs4budaSBt4budaSBr4bq/dCBi4bqhbiDwn5KMYCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIkJFX0ZSSUVORFwiOlxyXG4gICAgICAgIGNhc2UgXCJBQ0NFUFRFRF9GUklFTkRfUkVRVUVTVFwiOlxyXG4gICAgICAgICAgdG9hc3QoYCR7bmFtZX0gxJHDoyB0cuG7nyB0aMOgbmggYuG6oW4gYsOoIPCfkaVgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiUE9TVFwiOlxyXG4gICAgICAgICAgdG9hc3QoYCR7bmFtZX0gxJHDoyDEkcSDbmcgbeG7mXQgYsOgaSB2aeG6v3QgbeG7m2lgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiU0hBUkVcIjpcclxuICAgICAgICAgIHRvYXN0KGAke25hbWV9IMSRw6MgY2hpYSBz4bq7IG3hu5l0IGLDoGkgdmnhur90IG3hu5tpYCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIkxJS0VfUE9TVFwiOlxyXG4gICAgICAgICAgdG9hc3QoYCR7bmFtZX0gxJHDoyB0aMOtY2ggYsOgaSB2aeG6v3QgY+G7p2EgYuG6oW4g4p2k77iPYCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIkNPTU1FTlRcIjpcclxuICAgICAgICAgIHRvYXN0KGAke25hbWV9IMSRw6MgYsOsbmggbHXhuq1uIHbhu4EgYsOgaSB2aeG6v3QgY+G7p2EgYuG6oW4g8J+SrGApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJSRVBMWV9DT01NRU5UXCI6XHJcbiAgICAgICAgICB0b2FzdChgJHtuYW1lfSDEkcOjIHRy4bqjIGzhu51pIGLDrG5oIGx14bqtbiBj4bunYSBi4bqhbiDwn5KsYCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIk5FV19NRVNTQUdFXCI6IHtcclxuICAgICAgICAgIHRvYXN0KGAke25hbWV9IMSRw6Mgbmjhuq9uIHRpbiBjaG8gYuG6oW4g8J+SrGApO1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLm1lc3NhZ2UgfHwgIWRhdGEubWVzc2FnZS5zZW5kZXJVc2VybmFtZSkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzZW5kZXJVc2VybmFtZSA9IGRhdGEubWVzc2FnZS5zZW5kZXJVc2VybmFtZTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRydXkgeHXhuqV0IGNoYXRMaXN0IHThu6sgc3RvcmVcclxuICAgICAgICAgICAgY29uc3QgeyBjaGF0TGlzdCB9ID0gdXNlQXBwU3RvcmUuZ2V0U3RhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kQ2hhdCA9IGNoYXRMaXN0LmZpbmQoXHJcbiAgICAgICAgICAgICAgKGNoYXQpID0+IGNoYXQudGFyZ2V0Py51c2VybmFtZSA9PT0gc2VuZGVyVXNlcm5hbWVcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3VuZENoYXQpIHtcclxuICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ2hhdCA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmZvdW5kQ2hhdCxcclxuICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlOiB7XHJcbiAgICAgICAgICAgICAgICAgIC4uLmZvdW5kQ2hhdC5sYXN0TWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgYm9keTogZGF0YS5tZXNzYWdlLmJvZHksXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBkYXRhLm1lc3NhZ2UuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIG5vdFJlYWRNZXNzYWdlQ291bnQ6IChmb3VuZENoYXQubm90UmVhZE1lc3NhZ2VDb3VudCB8fCAwKSArIDEsXHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gVOG6oW8gY2hhdExpc3QgbeG7m2k6IGNoYXQgbsOgeSDEkeG7qW5nIMSR4bqndSwgY8OybiBs4bqhaSBnaeG7ryBuZ3V5w6puIG5oxrBuZyBz4bqvcCB0aGVvIHVwZGF0ZWRBdFxyXG4gICAgICAgICAgICAgIGNvbnN0IG5ld0NoYXRMaXN0ID0gW1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlZENoYXQsXHJcbiAgICAgICAgICAgICAgICAuLi5jaGF0TGlzdFxyXG4gICAgICAgICAgICAgICAgICAuZmlsdGVyKChjaGF0KSA9PiBjaGF0LmlkICE9PSBmb3VuZENoYXQuaWQpXHJcbiAgICAgICAgICAgICAgICAgIC5zb3J0KFxyXG4gICAgICAgICAgICAgICAgICAgIChhLCBiKSA9PiBuZXcgRGF0ZShhLnVwZGF0ZWRBdCkgLSBuZXcgRGF0ZShiLnVwZGF0ZWRBdClcclxuICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgICB1c2VBcHBTdG9yZS5zZXRTdGF0ZSh7IGNoYXRMaXN0OiBuZXdDaGF0TGlzdCB9KTtcclxuXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgICAgICBcIvCfk6UgQ+G6rXAgbmjhuq10IGNoYXRMaXN0IHbhu5tpIE5FV19NRVNTQUdFIHThu6tcIixcclxuICAgICAgICAgICAgICAgIHNlbmRlclVzZXJuYW1lXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgICAgIFwi8J+UjSBLaMO0bmcgdMOsbSB0aOG6pXkgY2hhdCB24bubaVwiLFxyXG4gICAgICAgICAgICAgICAgc2VuZGVyVXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBcIi0gZ2nhu68gbmd1ecOqbiBkYW5oIHPDoWNoLlwiXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT3B0aW9uYWxseSBn4buNaSBs4bqhaSBvbk1lc3NhZ2VSZWNlaXZlZCDEkeG7gyBj4bqtcCBuaOG6rXQgbuG6v3UgYuG6oW4gduG6q24gbXXhu5FuXHJcbiAgICAgICAgICAgIHVzZUFwcFN0b3JlLmdldFN0YXRlKCkub25NZXNzYWdlUmVjZWl2ZWQoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byBwcm9jZXNzIE5FV19NRVNTQUdFOlwiLCBlcnIpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FzZSBcIk5FV19DSEFUX0NSRUFURURcIjpcclxuICAgICAgICAgIGlmIChkYXRhLmNoYXQpIHtcclxuICAgICAgICAgICAgb25DaGF0Q3JlYXRlZChkYXRhLmNoYXQpO1xyXG4gICAgICAgICAgICB0b2FzdChgJHtuYW1lfSDEkcOjIHThuqFvIGN14buZYyB0csOyIGNodXnhu4duIG3hu5tpIPCfkqxgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgdG9hc3QoYPCflJQgQ8OzIHRow7RuZyBiw6FvIG3hu5tpIHThu6sgJHtuYW1lfWApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDinIUgxJDhu5NuZyBi4buZIHRow7RuZyBiw6FvIHbDoG8gc3RvcmVcclxuICAgICAgaWYgKG9uTm90aWZpY2F0aW9uUmVjZWl2ZWQgJiYgZmV0Y2hOb3RpZmljYXRpb25zKSB7XHJcbiAgICAgICAgb25Ob3RpZmljYXRpb25SZWNlaXZlZChkYXRhKTsgLy8gVOG6oW0gdGjhu51pIGhp4buDbiB0aOG7iyBuZ2F5XHJcblxyXG4gICAgICAgIC8vIFN5bmMgbOG6oWkgdOG7qyBzZXJ2ZXIgxJHhu4MgxJHhuqNtIGLhuqNvIGtow7RuZyB0aGnhur91XHJcbiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gICBmZXRjaE5vdGlmaWNhdGlvbnModHJ1ZSk7XHJcbiAgICAgICAgLy8gfSwgMzAwKTtcclxuICAgICAgICAvLyAgLy8gZGVsYXkgbmjhurkgdHLDoW5oIHNwYW0gY2FsbCBu4bq/dSBuaOG6rW4gbGnDqm4gdOG7pWNcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyA9PT0gU2V0dXAgc29ja2V0IGNsaWVudCB24bubaSBzaW5nbGV0b24gPT09XHJcbiAgICBjb25zdCBzZXR1cENvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5SMIENvbm5lY3RpbmcgdG8gbm90aWZpY2F0aW9uIHNvY2tldCBmb3IgdXNlcjpcIiwgdXNlcklkKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBnZXRTdG9tcENsaWVudCgoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWlzTW91bnRlZCB8fCBpc1N1YnNjcmliZWRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjCBTdWJzY3JpYmluZyB0byAvbm90aWZpY2F0aW9ucy9cIiArIHVzZXJJZCk7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzdWJzY3JpcHRpb25SZWYuY3VycmVudCA9IGNsaWVudC5zdWJzY3JpYmVUb0NoYW5uZWwoXHJcbiAgICAgICAgICAgICAgYC9ub3RpZmljYXRpb25zLyR7dXNlcklkfWAsXHJcbiAgICAgICAgICAgICAgKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlLmJvZHkpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfk6ggTm90aWZpY2F0aW9uIHJlY2VpdmVkOlwiLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlTm90aWZpY2F0aW9uKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgS2jDtG5nIHRo4buDIHBhcnNlIG1lc3NhZ2U6XCIsIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvblJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFN1Y2Nlc3NmdWxseSBzdWJzY3JpYmVkIHRvIG5vdGlmaWNhdGlvbnNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEzhu5dpIGtoaSBzdWJzY3JpYmU6XCIsIGVycik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE7hur91IGNsaWVudCDEkcOjIGNvbm5lY3RlZCB2w6AgY2jGsGEgc3Vic2NyaWJlXHJcbiAgICAgICAgaWYgKGNsaWVudD8uY29ubmVjdGVkICYmICFpc1N1YnNjcmliZWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCLwn5SMIENsaWVudCBhbHJlYWR5IGNvbm5lY3RlZCwgc3Vic2NyaWJpbmcgaW1tZWRpYXRlbHlcIik7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzdWJzY3JpcHRpb25SZWYuY3VycmVudCA9IGNsaWVudC5zdWJzY3JpYmVUb0NoYW5uZWwoXHJcbiAgICAgICAgICAgICAgYC9ub3RpZmljYXRpb25zLyR7dXNlcklkfWAsXHJcbiAgICAgICAgICAgICAgKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlLmJvZHkpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfk6ggTm90aWZpY2F0aW9uIHJlY2VpdmVkOlwiLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlTm90aWZpY2F0aW9uKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgS2jDtG5nIHRo4buDIHBhcnNlIG1lc3NhZ2U6XCIsIGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvblJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFN1Y2Nlc3NmdWxseSBzdWJzY3JpYmVkIHRvIG5vdGlmaWNhdGlvbnNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEzhu5dpIGtoaSBzdWJzY3JpYmU6XCIsIGVycik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBM4buXaSBraGkgc2V0dXAgY29ubmVjdGlvbjpcIiwgZXJyKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBzZXR1cENvbm5lY3Rpb24oKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpc01vdW50ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmIChzdWJzY3JpcHRpb25SZWYuY3VycmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBzdWJzY3JpcHRpb25SZWYuY3VycmVudC51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCLwn5OkIMSQw6MgaOG7p3kgxJHEg25nIGvDvSAvbm90aWZpY2F0aW9ucy9cIiArIHVzZXJJZCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCLimqDvuI8gTOG7l2kga2hpIGjhu6d5IMSRxINuZyBrw706XCIsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1YnNjcmlwdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaXNTdWJzY3JpYmVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgIH07XHJcbiAgfSwgW1xyXG4gICAgdXNlcklkLFxyXG4gICAgZmV0Y2hDaGF0TGlzdCxcclxuICAgIG9uTWVzc2FnZVJlY2VpdmVkLFxyXG4gICAgb25DaGF0Q3JlYXRlZCxcclxuICAgIGZldGNoTm90aWZpY2F0aW9ucyxcclxuICAgIG9uTm90aWZpY2F0aW9uUmVjZWl2ZWQsXHJcbiAgXSk7XHJcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwiZ2V0U3RvbXBDbGllbnQiLCJ0b2FzdCIsInVzZUFwcFN0b3JlIiwidXNlTm90aWZpY2F0aW9uU29ja2V0IiwidXNlcklkIiwic3Vic2NyaXB0aW9uUmVmIiwiaXNTdWJzY3JpYmVkUmVmIiwiZmV0Y2hDaGF0TGlzdCIsIm9uTWVzc2FnZVJlY2VpdmVkIiwib25DaGF0Q3JlYXRlZCIsImZldGNoTm90aWZpY2F0aW9ucyIsIm9uTm90aWZpY2F0aW9uUmVjZWl2ZWQiLCJpc01vdW50ZWQiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJkYXRhIiwiYWN0aW9uIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiY3JlYXRvciIsImdpdmVuTmFtZSIsIm1lc3NhZ2UiLCJzZW5kZXJVc2VybmFtZSIsImNoYXRMaXN0IiwiZ2V0U3RhdGUiLCJmb3VuZENoYXQiLCJmaW5kIiwiY2hhdCIsInRhcmdldCIsInVzZXJuYW1lIiwidXBkYXRlZENoYXQiLCJsYXN0TWVzc2FnZSIsImJvZHkiLCJ1cGRhdGVkQXQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJub3RSZWFkTWVzc2FnZUNvdW50IiwibmV3Q2hhdExpc3QiLCJmaWx0ZXIiLCJpZCIsInNvcnQiLCJhIiwiYiIsInNldFN0YXRlIiwibG9nIiwiZXJyIiwiZXJyb3IiLCJzZXR1cENvbm5lY3Rpb24iLCJjbGllbnQiLCJjdXJyZW50Iiwic3Vic2NyaWJlVG9DaGFubmVsIiwiSlNPTiIsInBhcnNlIiwiY29ubmVjdGVkIiwidW5zdWJzY3JpYmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useNotificationSocket.js\n"));

/***/ })

});