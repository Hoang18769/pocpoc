"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(home)/layout",{

/***/ "(app-pages-browser)/./src/hooks/useNotificationSocket.js":
/*!********************************************!*\
  !*** ./src/hooks/useNotificationSocket.js ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useNotificationSocket; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/socket */ \"(app-pages-browser)/./src/utils/socket.js\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* harmony import */ var _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/store/ZustandStore */ \"(app-pages-browser)/./src/store/ZustandStore.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ var _s = $RefreshSig$();\n\n\n\n\nfunction useNotificationSocket(userId) {\n    _s();\n    const subscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const clientRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // Store actions\n    const { fetchChatList, onMessageReceived, onChatCreated, fetchNotifications, onNotificationReceived } = (0,_store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!userId) return;\n        let isMounted = true;\n        const handleNotification = async (data)=>{\n            var _data_creator;\n            if (!(data === null || data === void 0 ? void 0 : data.action)) {\n                console.warn(\"⚠️ Notification kh\\xf4ng hợp lệ:\", data);\n                return;\n            }\n            const name = ((_data_creator = data.creator) === null || _data_creator === void 0 ? void 0 : _data_creator.givenName) || \"ai đ\\xf3\";\n            // === Toast & store updates by action ===\n            switch(data.action){\n                case \"SENT_ADD_FRIEND_REQUEST\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 gửi lời mời kết bạn \\uD83D\\uDC8C\"));\n                    break;\n                case \"BE_FRIEND\":\n                case \"ACCEPTED_FRIEND_REQUEST\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 trở th\\xe0nh bạn b\\xe8 \\uD83D\\uDC65\"));\n                    break;\n                case \"POST\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 đăng một b\\xe0i viết mới\"));\n                    break;\n                case \"SHARE\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 chia sẻ một b\\xe0i viết mới\"));\n                    break;\n                case \"LIKE_POST\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 th\\xedch b\\xe0i viết của bạn ❤️\"));\n                    break;\n                case \"COMMENT\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 b\\xecnh luận về b\\xe0i viết của bạn \\uD83D\\uDCAC\"));\n                    break;\n                case \"REPLY_COMMENT\":\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 trả lời b\\xecnh luận của bạn \\uD83D\\uDCAC\"));\n                    break;\n                case \"NEW_MESSAGE\":\n                    {\n                        (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 nhắn tin cho bạn \\uD83D\\uDCAC\"));\n                        try {\n                            if (!data.message || !data.message.senderUsername) break;\n                            const senderUsername = data.message.senderUsername;\n                            // Truy xuất chatList từ store\n                            const { chatList } = _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState();\n                            const foundChat = chatList.find((chat)=>{\n                                var _chat_target;\n                                return ((_chat_target = chat.target) === null || _chat_target === void 0 ? void 0 : _chat_target.username) === senderUsername;\n                            });\n                            if (foundChat) {\n                                const updatedChat = {\n                                    ...foundChat,\n                                    lastMessage: {\n                                        ...foundChat.lastMessage,\n                                        body: data.message.body\n                                    },\n                                    updatedAt: data.message.createdAt || new Date().toISOString(),\n                                    notReadMessageCount: (foundChat.notReadMessageCount || 0) + 1\n                                };\n                                // Tạo chatList mới: chat này đứng đầu, còn lại giữ nguyên nhưng sắp theo updatedAt\n                                const newChatList = [\n                                    updatedChat,\n                                    ...chatList.filter((chat)=>chat.id !== foundChat.id).sort((a, b)=>new Date(a.updatedAt) - new Date(b.updatedAt))\n                                ];\n                                _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setState({\n                                    chatList: newChatList\n                                });\n                                console.log(\"\\uD83D\\uDCE5 Cập nhật chatList với NEW_MESSAGE từ\", senderUsername);\n                            } else {\n                                console.log(\"\\uD83D\\uDD0D Kh\\xf4ng t\\xecm thấy chat với\", senderUsername, \"- giữ nguy\\xean danh s\\xe1ch.\");\n                            }\n                            // Optionally gọi lại onMessageReceived để cập nhật nếu bạn vẫn muốn\n                            _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().onMessageReceived(data.message);\n                        } catch (err) {\n                            console.error(\"❌ Failed to process NEW_MESSAGE:\", err);\n                        }\n                        break;\n                    }\n                case \"NEW_CHAT_CREATED\":\n                    if (data.chat) {\n                        onChatCreated(data.chat);\n                        (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(name, \" đ\\xe3 tạo cuộc tr\\xf2 chuyện mới \\uD83D\\uDCAC\"));\n                    }\n                    break;\n                default:\n                    (0,react_hot_toast__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\\uD83D\\uDD14 C\\xf3 th\\xf4ng b\\xe1o mới từ \".concat(name));\n            }\n            // ✅ Đồng bộ thông báo vào store\n            if (onNotificationReceived && fetchNotifications) {\n                onNotificationReceived(data); // Tạm thời hiển thị ngay\n            // Sync lại từ server để đảm bảo không thiếu\n            // setTimeout(() => {\n            //   fetchNotifications(true);\n            // }, 300);\n            //  // delay nhẹ tránh spam call nếu nhận liên tục\n            }\n        };\n        // === Setup socket client ===\n        const client = (0,_utils_socket__WEBPACK_IMPORTED_MODULE_1__.createStompClient)((frame)=>{\n            if (!isMounted) return;\n            console.log(\"\\uD83D\\uDD0C Subscribing to /notifications/\" + userId);\n            try {\n                subscriptionRef.current = client.subscribeToChannel(\"/notifications/\".concat(userId), (message)=>{\n                    try {\n                        const data = JSON.parse(message.body);\n                        console.log(\"\\uD83D\\uDCE8 Notification received:\", data);\n                        handleNotification(data);\n                    } catch (err) {\n                        console.error(\"❌ Kh\\xf4ng thể parse message:\", err);\n                    }\n                });\n            } catch (err) {\n                console.error(\"❌ Lỗi khi subscribe:\", err);\n            }\n        });\n        clientRef.current = client;\n        try {\n            client.activate();\n        } catch (err) {\n            console.error(\"❌ Lỗi k\\xedch hoạt client:\", err);\n        }\n        return ()=>{\n            isMounted = false;\n            if (subscriptionRef.current) {\n                try {\n                    subscriptionRef.current.unsubscribe();\n                    console.log(\"\\uD83D\\uDCE4 Đ\\xe3 hủy đăng k\\xfd /notifications\");\n                } catch (err) {\n                    console.warn(\"⚠️ Lỗi khi hủy đăng k\\xfd:\", err);\n                }\n                subscriptionRef.current = null;\n            }\n            if (clientRef.current) {\n                try {\n                    clientRef.current.deactivate();\n                    console.log(\"\\uD83D\\uDD0C Đ\\xe3 ngắt kết nối client\");\n                } catch (err) {\n                    console.warn(\"⚠️ Lỗi khi ngắt kết nối:\", err);\n                }\n                clientRef.current = null;\n            }\n        };\n    }, [\n        userId,\n        fetchChatList,\n        onMessageReceived,\n        onChatCreated,\n        fetchNotifications,\n        onNotificationReceived\n    ]);\n}\n_s(useNotificationSocket, \"bMvs9V7MCWBVlQqrLrVavYViMdE=\", false, function() {\n    return [\n        _store_ZustandStore__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    ];\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VOb3RpZmljYXRpb25Tb2NrZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUMwQztBQUNTO0FBQ2Y7QUFDVztBQUVoQyxTQUFTSyxzQkFBc0JDLE1BQU07O0lBQ2xELE1BQU1DLGtCQUFrQk4sNkNBQU1BLENBQUM7SUFDL0IsTUFBTU8sWUFBWVAsNkNBQU1BLENBQUM7SUFFekIsZ0JBQWdCO0lBQ2hCLE1BQU0sRUFDSlEsYUFBYSxFQUNiQyxpQkFBaUIsRUFDakJDLGFBQWEsRUFDYkMsa0JBQWtCLEVBQ2xCQyxzQkFBc0IsRUFDdkIsR0FBR1QsK0RBQVdBO0lBRWZKLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDTSxRQUFRO1FBQ2IsSUFBSVEsWUFBWTtRQUVoQixNQUFNQyxxQkFBcUIsT0FBT0M7Z0JBTW5CQTtZQUxiLElBQUksRUFBQ0EsaUJBQUFBLDJCQUFBQSxLQUFNQyxNQUFNLEdBQUU7Z0JBQ2pCQyxRQUFRQyxJQUFJLENBQUMsb0NBQWlDSDtnQkFDOUM7WUFDRjtZQUVBLE1BQU1JLE9BQU9KLEVBQUFBLGdCQUFBQSxLQUFLSyxPQUFPLGNBQVpMLG9DQUFBQSxjQUFjTSxTQUFTLEtBQUk7WUFFeEMsMENBQTBDO1lBQzFDLE9BQVFOLEtBQUtDLE1BQU07Z0JBQ2pCLEtBQUs7b0JBQ0hkLDJEQUFLQSxDQUFDLEdBQVEsT0FBTGlCLE1BQUs7b0JBQ2Q7Z0JBRUYsS0FBSztnQkFDTCxLQUFLO29CQUNIakIsMkRBQUtBLENBQUMsR0FBUSxPQUFMaUIsTUFBSztvQkFDZDtnQkFFRixLQUFLO29CQUNIakIsMkRBQUtBLENBQUMsR0FBUSxPQUFMaUIsTUFBSztvQkFDZDtnQkFFRixLQUFLO29CQUNIakIsMkRBQUtBLENBQUMsR0FBUSxPQUFMaUIsTUFBSztvQkFDZDtnQkFFRixLQUFLO29CQUNIakIsMkRBQUtBLENBQUMsR0FBUSxPQUFMaUIsTUFBSztvQkFDZDtnQkFFRixLQUFLO29CQUNIakIs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OUIsUUFBUStCLEtBQUssQ0FBQyxpQ0FBOEJEO29CQUM5QztnQkFDRjtZQUVKLEVBQUUsT0FBT0EsS0FBSztnQkFDWjlCLFFBQVErQixLQUFLLENBQUMsd0JBQXdCRDtZQUN4QztRQUNGO1FBRUF4QyxVQUFVNEMsT0FBTyxHQUFHRjtRQUVwQixJQUFJO1lBQ0ZBLE9BQU9NLFFBQVE7UUFDakIsRUFBRSxPQUFPUixLQUFLO1lBQ1o5QixRQUFRK0IsS0FBSyxDQUFDLDhCQUEyQkQ7UUFDM0M7UUFFQSxPQUFPO1lBQ0xsQyxZQUFZO1lBRVosSUFBSVAsZ0JBQWdCNkMsT0FBTyxFQUFFO2dCQUMzQixJQUFJO29CQUNGN0MsZ0JBQWdCNkMsT0FBTyxDQUFDSyxXQUFXO29CQUNuQ3ZDLFFBQVE2QixHQUFHLENBQUM7Z0JBQ2QsRUFBRSxPQUFPQyxLQUFLO29CQUNaOUIsUUFBUUMsSUFBSSxDQUFDLDhCQUEyQjZCO2dCQUMxQztnQkFDQXpDLGdCQUFnQjZDLE9BQU8sR0FBRztZQUM1QjtZQUVBLElBQUk1QyxVQUFVNEMsT0FBTyxFQUFFO2dCQUNyQixJQUFJO29CQUNGNUMsVUFBVTRDLE9BQU8sQ0FBQ00sVUFBVTtvQkFDNUJ4QyxRQUFRNkIsR0FBRyxDQUFDO2dCQUNkLEVBQUUsT0FBT0MsS0FBSztvQkFDWjlCLFFBQVFDLElBQUksQ0FBQyw0QkFBNEI2QjtnQkFDM0M7Z0JBQ0F4QyxVQUFVNEMsT0FBTyxHQUFHO1lBQ3RCO1FBQ0Y7SUFDRixHQUFHO1FBQ0Q5QztRQUNBRztRQUNBQztRQUNBQztRQUNBQztRQUNBQztLQUNEO0FBQ0g7R0F2TXdCUjs7UUFXbEJELDJEQUFXQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvaG9va3MvdXNlTm90aWZpY2F0aW9uU29ja2V0LmpzP2U1OTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVN0b21wQ2xpZW50IH0gZnJvbSBcIkAvdXRpbHMvc29ja2V0XCI7XHJcbmltcG9ydCB0b2FzdCBmcm9tIFwicmVhY3QtaG90LXRvYXN0XCI7XHJcbmltcG9ydCB1c2VBcHBTdG9yZSBmcm9tIFwiQC9zdG9yZS9adXN0YW5kU3RvcmVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZU5vdGlmaWNhdGlvblNvY2tldCh1c2VySWQpIHtcclxuICBjb25zdCBzdWJzY3JpcHRpb25SZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgY2xpZW50UmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICAvLyBTdG9yZSBhY3Rpb25zXHJcbiAgY29uc3Qge1xyXG4gICAgZmV0Y2hDaGF0TGlzdCxcclxuICAgIG9uTWVzc2FnZVJlY2VpdmVkLFxyXG4gICAgb25DaGF0Q3JlYXRlZCxcclxuICAgIGZldGNoTm90aWZpY2F0aW9ucyxcclxuICAgIG9uTm90aWZpY2F0aW9uUmVjZWl2ZWQsXHJcbiAgfSA9IHVzZUFwcFN0b3JlKCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuO1xyXG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XHJcblxyXG4gICAgY29uc3QgaGFuZGxlTm90aWZpY2F0aW9uID0gYXN5bmMgKGRhdGEpID0+IHtcclxuICAgICAgaWYgKCFkYXRhPy5hY3Rpb24pIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCLimqDvuI8gTm90aWZpY2F0aW9uIGtow7RuZyBo4bujcCBs4buHOlwiLCBkYXRhKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG5hbWUgPSBkYXRhLmNyZWF0b3I/LmdpdmVuTmFtZSB8fCBcImFpIMSRw7NcIjtcclxuXHJcbiAgICAgIC8vID09PSBUb2FzdCAmIHN0b3JlIHVwZGF0ZXMgYnkgYWN0aW9uID09PVxyXG4gICAgICBzd2l0Y2ggKGRhdGEuYWN0aW9uKSB7XHJcbiAgICAgICAgY2FzZSBcIlNFTlRfQUREX0ZSSUVORF9SRVFVRVNUXCI6XHJcbiAgICAgICAgICB0b2FzdChgJHtuYW1lfSDEkcOjIGfhu61pIGzhu51pIG3hu51pIGvhur90IGLhuqFuIPCfkoxgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiQkVfRlJJRU5EXCI6XHJcbiAgICAgICAgY2FzZSBcIkFDQ0VQVEVEX0ZSSUVORF9SRVFVRVNUXCI6XHJcbiAgICAgICAgICB0b2FzdChgJHtuYW1lfSDEkcOjIHRy4bufIHRow6BuaCBi4bqhbiBiw6gg8J+RpWApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJQT1NUXCI6XHJcbiAgICAgICAgICB0b2FzdChgJHtuYW1lfSDEkcOjIMSRxINuZyBt4buZdCBiw6BpIHZp4bq/dCBt4bubaWApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJTSEFSRVwiOlxyXG4gICAgICAgICAgdG9hc3QoYCR7bmFtZX0gxJHDoyBjaGlhIHPhursgbeG7mXQgYsOgaSB2aeG6v3QgbeG7m2lgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiTElLRV9QT1NUXCI6XHJcbiAgICAgICAgICB0b2FzdChgJHtuYW1lfSDEkcOjIHRow61jaCBiw6BpIHZp4bq/dCBj4bunYSBi4bqhbiDinaTvuI9gKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiQ09NTUVOVFwiOlxyXG4gICAgICAgICAgdG9hc3QoYCR7bmFtZX0gxJHDoyBiw6xuaCBsdeG6rW4gduG7gSBiw6BpIHZp4bq/dCBj4bunYSBi4bqhbiDwn5KsYCk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIlJFUExZX0NPTU1FTlRcIjpcclxuICAgICAgICAgIHRvYXN0KGAke25hbWV9IMSRw6MgdHLhuqMgbOG7nWkgYsOsbmggbHXhuq1uIGPhu6dhIGLhuqFuIPCfkqxgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiTkVXX01FU1NBR0VcIjoge1xyXG4gICAgICAgICAgdG9hc3QoYCR7bmFtZX0gxJHDoyBuaOG6r24gdGluIGNobyBi4bqhbiDwn5KsYCk7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEubWVzc2FnZSB8fCAhZGF0YS5tZXNzYWdlLnNlbmRlclVzZXJuYW1lKSBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNlbmRlclVzZXJuYW1lID0gZGF0YS5tZXNzYWdlLnNlbmRlclVzZXJuYW1lO1xyXG5cclxuICAgICAgICAgICAgLy8gVHJ1eSB4deG6pXQgY2hhdExpc3QgdOG7qyBzdG9yZVxyXG4gICAgICAgICAgICBjb25zdCB7IGNoYXRMaXN0IH0gPSB1c2VBcHBTdG9yZS5nZXRTdGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZm91bmRDaGF0ID0gY2hhdExpc3QuZmluZChcclxuICAgICAgICAgICAgICAoY2hhdCkgPT4gY2hhdC50YXJnZXQ/LnVzZXJuYW1lID09PSBzZW5kZXJVc2VybmFtZVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZvdW5kQ2hhdCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDaGF0ID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uZm91bmRDaGF0LFxyXG4gICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgLi4uZm91bmRDaGF0Lmxhc3RNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICBib2R5OiBkYXRhLm1lc3NhZ2UuYm9keSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEubWVzc2FnZS5jcmVhdGVkQXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbm90UmVhZE1lc3NhZ2VDb3VudDogKGZvdW5kQ2hhdC5ub3RSZWFkTWVzc2FnZUNvdW50IHx8IDApICsgMSxcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAvLyBU4bqhbyBjaGF0TGlzdCBt4bubaTogY2hhdCBuw6B5IMSR4bupbmcgxJHhuqd1LCBjw7JuIGzhuqFpIGdp4buvIG5ndXnDqm4gbmjGsG5nIHPhuq9wIHRoZW8gdXBkYXRlZEF0XHJcbiAgICAgICAgICAgICAgY29uc3QgbmV3Q2hhdExpc3QgPSBbXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkQ2hhdCxcclxuICAgICAgICAgICAgICAgIC4uLmNoYXRMaXN0XHJcbiAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGNoYXQpID0+IGNoYXQuaWQgIT09IGZvdW5kQ2hhdC5pZClcclxuICAgICAgICAgICAgICAgICAgLnNvcnQoXHJcbiAgICAgICAgICAgICAgICAgICAgKGEsIGIpID0+IG5ldyBEYXRlKGEudXBkYXRlZEF0KSAtIG5ldyBEYXRlKGIudXBkYXRlZEF0KVxyXG4gICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICAgIHVzZUFwcFN0b3JlLnNldFN0YXRlKHsgY2hhdExpc3Q6IG5ld0NoYXRMaXN0IH0pO1xyXG5cclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgICAgIFwi8J+TpSBD4bqtcCBuaOG6rXQgY2hhdExpc3QgduG7m2kgTkVXX01FU1NBR0UgdOG7q1wiLFxyXG4gICAgICAgICAgICAgICAgc2VuZGVyVXNlcm5hbWVcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICAgICAgXCLwn5SNIEtow7RuZyB0w6xtIHRo4bqleSBjaGF0IHbhu5tpXCIsXHJcbiAgICAgICAgICAgICAgICBzZW5kZXJVc2VybmFtZSxcclxuICAgICAgICAgICAgICAgIFwiLSBnaeG7ryBuZ3V5w6puIGRhbmggc8OhY2guXCJcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBPcHRpb25hbGx5IGfhu41pIGzhuqFpIG9uTWVzc2FnZVJlY2VpdmVkIMSR4buDIGPhuq1wIG5o4bqtdCBu4bq/dSBi4bqhbiB24bqrbiBtdeG7kW5cclxuICAgICAgICAgICAgdXNlQXBwU3RvcmUuZ2V0U3RhdGUoKS5vbk1lc3NhZ2VSZWNlaXZlZChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRmFpbGVkIHRvIHByb2Nlc3MgTkVXX01FU1NBR0U6XCIsIGVycik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYXNlIFwiTkVXX0NIQVRfQ1JFQVRFRFwiOlxyXG4gICAgICAgICAgaWYgKGRhdGEuY2hhdCkge1xyXG4gICAgICAgICAgICBvbkNoYXRDcmVhdGVkKGRhdGEuY2hhdCk7XHJcbiAgICAgICAgICAgIHRvYXN0KGAke25hbWV9IMSRw6MgdOG6oW8gY3Xhu5ljIHRyw7IgY2h1eeG7h24gbeG7m2kg8J+SrGApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICB0b2FzdChg8J+UlCBDw7MgdGjDtG5nIGLDoW8gbeG7m2kgdOG7qyAke25hbWV9YCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIOKchSDEkOG7k25nIGLhu5kgdGjDtG5nIGLDoW8gdsOgbyBzdG9yZVxyXG4gICAgICBpZiAob25Ob3RpZmljYXRpb25SZWNlaXZlZCAmJiBmZXRjaE5vdGlmaWNhdGlvbnMpIHtcclxuICAgICAgICBvbk5vdGlmaWNhdGlvblJlY2VpdmVkKGRhdGEpOyAvLyBU4bqhbSB0aOG7nWkgaGnhu4NuIHRo4buLIG5nYXlcclxuXHJcbiAgICAgICAgLy8gU3luYyBs4bqhaSB04burIHNlcnZlciDEkeG7gyDEkeG6o20gYuG6o28ga2jDtG5nIHRoaeG6v3VcclxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyAgIGZldGNoTm90aWZpY2F0aW9ucyh0cnVlKTtcclxuICAgICAgICAvLyB9LCAzMDApO1xyXG4gICAgICAgIC8vICAvLyBkZWxheSBuaOG6uSB0csOhbmggc3BhbSBjYWxsIG7hur91IG5o4bqtbiBsacOqbiB04bulY1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vID09PSBTZXR1cCBzb2NrZXQgY2xpZW50ID09PVxyXG4gICAgY29uc3QgY2xpZW50ID0gY3JlYXRlU3RvbXBDbGllbnQoKGZyYW1lKSA9PiB7XHJcbiAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcIvCflIwgU3Vic2NyaWJpbmcgdG8gL25vdGlmaWNhdGlvbnMvXCIgKyB1c2VySWQpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvblJlZi5jdXJyZW50ID0gY2xpZW50LnN1YnNjcmliZVRvQ2hhbm5lbChcclxuICAgICAgICAgIGAvbm90aWZpY2F0aW9ucy8ke3VzZXJJZH1gLFxyXG4gICAgICAgICAgKG1lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlLmJvZHkpO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+TqCBOb3RpZmljYXRpb24gcmVjZWl2ZWQ6XCIsIGRhdGEpO1xyXG4gICAgICAgICAgICAgIGhhbmRsZU5vdGlmaWNhdGlvbihkYXRhKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBLaMO0bmcgdGjhu4MgcGFyc2UgbWVzc2FnZTpcIiwgZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgTOG7l2kga2hpIHN1YnNjcmliZTpcIiwgZXJyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY2xpZW50UmVmLmN1cnJlbnQgPSBjbGllbnQ7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY2xpZW50LmFjdGl2YXRlKCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBM4buXaSBrw61jaCBob+G6oXQgY2xpZW50OlwiLCBlcnIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKHN1YnNjcmlwdGlvblJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHN1YnNjcmlwdGlvblJlZi5jdXJyZW50LnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfk6QgxJDDoyBo4buneSDEkcSDbmcga8O9IC9ub3RpZmljYXRpb25zXCIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwi4pqg77iPIEzhu5dpIGtoaSBo4buneSDEkcSDbmcga8O9OlwiLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdWJzY3JpcHRpb25SZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjbGllbnRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjbGllbnRSZWYuY3VycmVudC5kZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIwgxJDDoyBuZ+G6r3Qga+G6v3QgbuG7kWkgY2xpZW50XCIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwi4pqg77iPIEzhu5dpIGtoaSBuZ+G6r3Qga+G6v3QgbuG7kWk6XCIsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNsaWVudFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbXHJcbiAgICB1c2VySWQsXHJcbiAgICBmZXRjaENoYXRMaXN0LFxyXG4gICAgb25NZXNzYWdlUmVjZWl2ZWQsXHJcbiAgICBvbkNoYXRDcmVhdGVkLFxyXG4gICAgZmV0Y2hOb3RpZmljYXRpb25zLFxyXG4gICAgb25Ob3RpZmljYXRpb25SZWNlaXZlZCxcclxuICBdKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwiY3JlYXRlU3RvbXBDbGllbnQiLCJ0b2FzdCIsInVzZUFwcFN0b3JlIiwidXNlTm90aWZpY2F0aW9uU29ja2V0IiwidXNlcklkIiwic3Vic2NyaXB0aW9uUmVmIiwiY2xpZW50UmVmIiwiZmV0Y2hDaGF0TGlzdCIsIm9uTWVzc2FnZVJlY2VpdmVkIiwib25DaGF0Q3JlYXRlZCIsImZldGNoTm90aWZpY2F0aW9ucyIsIm9uTm90aWZpY2F0aW9uUmVjZWl2ZWQiLCJpc01vdW50ZWQiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJkYXRhIiwiYWN0aW9uIiwiY29uc29sZSIsIndhcm4iLCJuYW1lIiwiY3JlYXRvciIsImdpdmVuTmFtZSIsIm1lc3NhZ2UiLCJzZW5kZXJVc2VybmFtZSIsImNoYXRMaXN0IiwiZ2V0U3RhdGUiLCJmb3VuZENoYXQiLCJmaW5kIiwiY2hhdCIsInRhcmdldCIsInVzZXJuYW1lIiwidXBkYXRlZENoYXQiLCJsYXN0TWVzc2FnZSIsImJvZHkiLCJ1cGRhdGVkQXQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJub3RSZWFkTWVzc2FnZUNvdW50IiwibmV3Q2hhdExpc3QiLCJmaWx0ZXIiLCJpZCIsInNvcnQiLCJhIiwiYiIsInNldFN0YXRlIiwibG9nIiwiZXJyIiwiZXJyb3IiLCJjbGllbnQiLCJmcmFtZSIsImN1cnJlbnQiLCJzdWJzY3JpYmVUb0NoYW5uZWwiLCJKU09OIiwicGFyc2UiLCJhY3RpdmF0ZSIsInVuc3Vic2NyaWJlIiwiZGVhY3RpdmF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useNotificationSocket.js\n"));

/***/ })

});